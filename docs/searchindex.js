Search.setIndex({"docnames": ["artery_setup", "carla_sumo_cosim", "index", "prerequisites", "run_simulation"], "filenames": ["artery_setup.rst", "carla_sumo_cosim.rst", "index.rst", "prerequisites.rst", "run_simulation.rst"], "titles": ["Artery Setup", "CARLA and SUMO Setup", "CARLA + SUMO + OMNeT++ Framework Documentation", "Prerequisites", "Run Simulation"], "terms": {"follow": [0, 1, 4], "instal": 0, "instruct": [0, 3], "provid": 0, "http": [0, 3], "v2x": 0, "research": 0, "eu": 0, "To": [0, 1, 2, 4], "allow": [0, 4], "carla": 0, "sensor": [0, 2, 4], "two": [0, 2], "main": 0, "step": [0, 4], "ar": [0, 1, 4], "requir": [0, 1, 3, 4], "1": [0, 1, 3], "enabl": [0, 1, 4], "build": [0, 3, 4], "system": [0, 4], "2": 0, "custom": [0, 4], "subscrib": [0, 1], "publish": [0, 1], "insid": 0, "first": [0, 4], "modifi": [0, 1, 4], "so": [0, 1], "can": [0, 1, 3, 4], "locat": [0, 1], "link": 0, "add": [0, 1], "line": [0, 1], "path": [0, 1, 4], "src": 0, "cmakelist": 0, "txt": [0, 3], "modif": [0, 1], "find_packag": 0, "pkgconfig": 0, "modul": 0, "pkg_check_modul": 0, "libzmq": 0, "target_include_directori": 0, "core": 0, "public": 0, "zeromq_includes_dir": 0, "target_link_librari": 0, "zeromq_librari": 0, "onc": [0, 4], "project": 0, "successfulli": 0, "you": [0, 1, 3, 4], "implement": [0, 1, 2, 4], "obstacl": [0, 4], "inform": 0, "from": [0, 4], "creat": [0, 1, 3], "new": [0, 1, 4], "procedur": 0, "describ": 0, "simul": [0, 1, 2, 3], "In": [0, 1, 2, 3, 4], "thi": [0, 1, 2, 3, 4], "exampleservic": 0, "pattern": 0, "i": [0, 1, 2, 3, 4], "The": [0, 1, 2, 4], "sent": 0, "pars": 0, "comput": 0, "detect": 0, "posit": 0, "pass": [0, 1], "result": 0, "other": [0, 1], "via": [0, 1], "applic": [0, 2, 4], "cc": 0, "h": 0, "yourservicemessag": 0, "msg": 0, "correspond": 0, "indic": 0, "document": [0, 3], "exchang": [0, 4], "between": [0, 1, 2, 3], "packet": 0, "string": 0, "messagetyp": 0, "doubl": 0, "vehicleid": 0, "sensorid": 0, "initialtimestamp": 0, "distanc": [0, 1], "x": [0, 1], "y": [0, 1], "after": 0, "add_librari": 0, "section": [0, 1, 3, 4], "regist": [0, 1], "target": [0, 1, 4], "generate_opp_messag": 0, "omnet": [0, 1], "gener": [0, 2], "c": [0, 2], "class": [0, 1], "A": [0, 4], "minim": 0, "packag": [0, 3], "simpl": 0, "like": [0, 1], "itsg5servic": 0, "paramet": 0, "host": [0, 1], "default": [0, 1, 3], "machine_running_carla_ip": 0, "int": [0, 1], "port": [0, 1], "5555": [0, 1], "download": [0, 3], "hpp": 0, "github": [0, 3], "com": [0, 3], "nlohmann": 0, "blob": 0, "place": 0, "cmake": [0, 4], "similarli": 0, "how": [0, 1, 3], "ad": [0, 1, 2, 4], "yourservicemessage_m": 0, "header": 0, "well": 0, "control": 0, "traci": 0, "vehiclecontrol": 0, "self": [0, 1], "pointer": 0, "nullptr": 0, "socket": [0, 1], "context": [0, 1], "topic": [0, 1], "privat": 0, "relat": 0, "namespac": 0, "std": 0, "omnetpp": [0, 3], "cmessag": 0, "m_self_msg": 0, "socket_t": 0, "context_t": 0, "It": 0, "connect": [0, 1], "tcp": [0, 1], "endpoint": 0, "expos": 0, "side": [0, 1], "void": 0, "zmq_sub": 0, "setsockopt": 0, "zmq_rcvtimeo": 0, "100": [0, 1], "set": [0, 1, 4], "timeout": [0, 1], "4": 0, "second": [0, 4], "zmq_sndtimeo": 0, "zmq_setsockopt": 0, "zmq_subscrib": 0, "c_str": 0, "length": 0, "par": 0, "stringvalu": 0, "intvalu": 0, "addr": 0, "to_str": 0, "here": [0, 1], "sub": [0, 1], "send": [0, 1], "avoid": 0, "indefinit": 0, "select": [0, 4], "address": 0, "where": 0, "listen": [0, 1], "At": 0, "end": [0, 1], "when": [0, 4], "destroi": [0, 1], "must": [0, 1], "properli": 0, "clean": 0, "up": 0, "accomplish": 0, "ev_info": 0, "close": 0, "endl": 0, "cancelanddelet": 0, "trigger": 0, "befor": [0, 1], "code": 0, "content": 0, "world": [0, 1, 2], "coordin": 0, "store": [0, 1], "instanc": [0, 1], "commun": [0, 1, 2, 3, 4], "stack": 0, "handl": [0, 1], "auto": 0, "getfacil": 0, "get_const": 0, "channel": [0, 1], "mco": 0, "allchannel": 0, "example_its_aid": 0, "network": [0, 1, 2], "400": 0, "message_t": 0, "repli": 0, "sndhwm": 0, "size_t": 0, "sndhwm_size": 0, "sizeof": 0, "rc": 0, "uk": 0, "null": 0, "list": [0, 1], "sensors_with_input": 0, "do": 0, "recv": 0, "recv_flag": 0, "dontwait": 0, "zmq_getsockopt": 0, "zmq_rcvmore": 0, "empti": 0, "break": [0, 1], "0": [0, 1, 3], "jsonresp": 0, "message_typ": [0, 1], "get": [0, 3], "vehicle_id": [0, 1], "sensor_id": [0, 1], "timestamp": [0, 1], "ev": 0, "obst": [0, 1], "t": 0, "m": [0, 1], "n": 0, "vehicle_length": 0, "getlength": 0, "valu": [0, 1], "vehicle_width": 0, "getwidth": 0, "unus": 0, "ok": 0, "vehicle_angl": 0, "gethead": 0, "radian": 0, "cfigur": 0, "point": [0, 1], "cur_pos_cent": 0, "getposit": 0, "depth": 0, "local": [0, 1], "rel": 0, "center": 0, "det_x_v": 0, "det_y_v": 0, "cosh": 0, "co": [0, 1, 2, 3, 4], "sinh": 0, "sin": 0, "det_dx": 0, "det_di": 0, "detection_coord": 0, "front": 0, "sensor_po": 0, "detection_po": 0, "coord": 0, "setmessagetyp": 0, "setvehicleid": 0, "setsensorid": 0, "setinitialtimestamp": 0, "setdist": 0, "setx": 0, "seti": 0, "setbytelength": 0, "42": 0, "request": 0, "req": 0, "els": [0, 1], "rcv_more": 0, "while": [0, 1], "true": [0, 1], "mvehiclecontrol": 0, "yaw": [0, 1], "rad": 0, "whatev": 0, "give": 0, "your": [0, 3, 4], "forward": [0, 1, 4], "rotat": [0, 1], "frame": [0, 1], "final": [0, 1, 4], "method": 0, "straight": 0, "ahead": 0, "initial_timestamp": 0, "option": [0, 1], "traffic": [0, 1, 2], "size": [0, 1], "inner": 0, "loop": 0, "read": 0, "all": [0, 1, 3, 4], "avail": 0, "without": 0, "For": [0, 2, 3], "each": [0, 1], "payload": 0, "extract": [0, 3], "type": [0, 1, 4], "e": 0, "g": [0, 3], "identifi": 0, "report": 0, "print": [0, 1, 3], "debug": [0, 4], "id": [0, 1], "consum": 0, "pend": 0, "retriev": 0, "geometri": 0, "pose": 0, "model": 0, "variabl": [0, 3], "interpret": 0, "along": 0, "its": 0, "longitudin": 0, "axi": 0, "express": 0, "half": 0, "plu": 0, "zero": 0, "mean": 0, "li": 0, "": [0, 1, 2, 3], "pair": 0, "head": 0, "offset": 0, "global": 0, "equival": 0, "shown": 0, "directli": 0, "fill": 0, "field": 0, "byte": 0, "which": 0, "process": [0, 1], "normal": 0, "mechan": 0, "compil": [0, 3], "next": [0, 1, 3], "run": [0, 2, 3], "detail": 0, "guid": 0, "refer": [0, 3], "standard": 0, "workflow": 0, "framework": [0, 1, 3, 4], "directori": [0, 1, 3], "ensur": [0, 3], "compat": [0, 3], "need": [0, 1, 3], "alreadi": 0, "readi": 0, "sever": 0, "town": [0, 4], "exampl": [0, 4], "town01": 0, "town05": 0, "town06": 0, "If": 0, "wish": 0, "work": [0, 2], "anoth": 0, "map": [0, 1, 4], "util": [0, 4], "automat": 0, "readthedoc": [0, 3], "io": [0, 3], "en": [0, 3], "latest": [0, 3], "adv_sumo": 0, "net": 0, "furthermor": 0, "know": 0, "import": [0, 1, 3], "vtype": 0, "demonstr": 0, "purpos": 0, "suffic": 0, "copi": [0, 1], "folder": 0, "past": 0, "an": [0, 1, 3, 4], "ini": 0, "launch": [0, 3], "synchron": [0, 1, 4], "dure": 0, "inet": 0, "vein": [0, 2], "launcher": 0, "typenam": 0, "posixlaunch": 0, "9998": 0, "extraopt": 0, "num": 0, "client": [0, 1], "run_synchron": [0, 4], "py": [0, 4], "sumocfg": 0, "node": 0, "middlewar": 0, "updateinterv": 0, "05": [0, 1], "match": 0, "tick": 0, "rate": 0, "datetim": 0, "2025": 0, "11": 0, "06": 0, "13": 0, "30": 0, "00": 0, "start": [0, 1, 4], "date": 0, "time": [0, 1, 4], "xmldoc": 0, "xml": 0, "abov": 0, "activ": 0, "same": 0, "name": 0, "version": [0, 1, 3], "encod": [0, 1], "utf": [0, 1], "8": [0, 1], "2024": 0, "also": 0, "rout": [0, 4], "particip": 0, "rou": 0, "By": [0, 4], "around": 0, "200": 0, "simplifi": 0, "test": [0, 3], "correct": [0, 4], "behavior": 0, "valid": [0, 4], "reduc": 0, "number": 0, "should": 0, "look": 0, "xmln": 0, "xsi": 0, "www": 0, "w3": 0, "org": [0, 3], "2001": 0, "xmlschema": 0, "nonamespaceschemaloc": 0, "dlr": 0, "de": 0, "xsd": 0, "routes_fil": 0, "bh": 0, "crossbik": 0, "depart": 0, "edg": 0, "43": 0, "23": 0, "52": 0, "49": 0, "7": [0, 3], "6": 0, "micro": 0, "microlino": 0, "33": 0, "39": 0, "25": 0, "more": [0, 2], "visit": 0, "doc": [0, 3], "definition_of_vehicl": 0, "2c_vehicle_typ": 0, "2c_and_rout": 0, "html": 0, "format": [0, 1], "subscript": 0, "cleanup": 0, "safe": 0, "shutdown": 0, "With": [0, 1, 4], "now": [0, 1, 3, 4], "complet": [0, 3, 4], "proce": [0, 1, 3], "full": [0, 3, 4], "togeth": 0, "explain": 1, "adapt": 1, "interfac": 1, "through": [1, 4], "zeromq": [1, 2, 4], "ha": [1, 2], "support": [1, 3, 4], "nativ": [1, 3], "sinc": [1, 2, 3], "9": [1, 3], "action": 1, "state": 1, "both": [1, 2], "we": 1, "extend": [1, 4], "function": [1, 4], "broadcast": 1, "data": [1, 4], "extern": 1, "file": 1, "make": [1, 3], "renam": 1, "someth": 1, "sumo_omnetpp": 1, "hold": 1, "arteri": [1, 2, 3], "central": 1, "compon": 1, "begin": 1, "sumo_integr": 1, "top": [1, 4], "carlasimul": 1, "__init__": 1, "accept": 1, "initi": [1, 4], "vehicl": [1, 2, 4], "object": [1, 2], "respons": [1, 2], "manag": [1, 3], "def": 1, "step_length": 1, "zmq_port": 1, "start_tim": 1, "start_zmq_serv": 1, "sensor_router_socket_list": 1, "sensor_list": 1, "sumo2carla_id": 1, "setter": 1, "set_start_tim": 1, "defin": 1, "intern": 1, "messag": [1, 4], "pub": 1, "bind": 1, "f": 1, "router_socket": 1, "inproc": 1, "internalstuff": 1, "poller": 1, "pollin": 1, "try": 1, "stop_ev": 1, "is_set": 1, "sock": 1, "dict": 1, "poll": 1, "except": 1, "error": 1, "contexttermin": 1, "recv_multipart": 1, "send_multipart": 1, "note": 1, "camera": 1, "base": [1, 2, 3], "suitabl": 1, "architectur": 1, "Their": 1, "transmit": 1, "raw": 1, "imag": 1, "over": 1, "ineffici": 1, "instead": 1, "us": [1, 3], "lightweight": 1, "numer": 1, "lidar": 1, "ray_cast": 1, "radar": 1, "receiv": 1, "one": 1, "upon": 1, "creation": 1, "append": 1, "block": 1, "spawn_actor": 1, "spawn": 1, "blueprint": 1, "transform": 1, "car": [1, 2], "get_actor": 1, "actor_id": 1, "car_length": 1, "bounding_box": 1, "extent": 1, "car_width": 1, "sensor_bp": 1, "blueprint_librari": 1, "find": 1, "set_attribut": 1, "20": [1, 3], "hit_radiu": 1, "5": [1, 3], "only_dynam": 1, "fals": 1, "debug_linetrac": 1, "sensor_tick": 1, "sensor_loc": 1, "z": 1, "sensor_rot": 1, "pitch": 1, "roll": 1, "sensor_transform": 1, "sensor_batch": 1, "command": [1, 4], "spawnactor": 1, "appli": [1, 4], "batch": 1, "len": 1, "response_list": 1, "apply_batch_sync": 1, "idx": 1, "resp": 1, "enumer": 1, "idx_": 1, "log": 1, "fail": 1, "lambda": 1, "sensor_msrmnt": 1, "sensor_callback": 1, "parent": 1, "zmq_socket": 1, "obst_msg": 1, "obstacle_data": 1, "kei": 1, "index": 1, "carla2sumo_id": 1, "str": 1, "return": 1, "json": 1, "dump": 1, "destroy_actor": 1, "given": 1, "cmd_batch": 1, "stop": 1, "destroyactor": 1, "none": 1, "gracefulli": 1, "type_id": 1, "traffic_light": 1, "freez": 1, "hasattr": 1, "is_al": 1, "join": 1, "term": 1, "script": 1, "simulationsynchron": 1, "sumo_simul": 1, "tls_manag": 1, "sync_vehicle_color": 1, "sync_vehicle_light": 1, "synchronization_loop": 1, "arg": 1, "entri": 1, "snapshot": 1, "get_snapshot": 1, "elapsed_second": 1, "argument": 1, "__name__": 1, "__main__": 1, "argpars": 1, "add_argu": 1, "metavar": 1, "p": 1, "help": 1, "propag": 1, "configur": [1, 3, 4], "measur": 1, "welcom": 2, "learn": 2, "act": 2, "urban": 2, "mobil": 2, "modular": 2, "testb": 2, "strategi": 2, "combin": 2, "sens": 2, "capabl": [2, 4], "specif": 2, "vehicular": 2, "hoc": 2, "vanet": 2, "either": 2, "though": 2, "goal": 2, "abl": 2, "leverag": 2, "3d": [2, 4], "migrat": 2, "output": [2, 3, 4], "order": [2, 4], "servic": [2, 3, 4], "collect": 2, "percept": [2, 4], "bridg": [2, 4], "entiti": 2, "scenario": [2, 4], "prerequisit": 2, "setup": [2, 3, 4], "cover": 3, "prepar": [3, 4], "environ": [3, 4], "assum": 3, "ubuntu": 3, "linux": 3, "doe": [3, 4], "window": [3, 4], "see": 3, "15": 3, "recommend": 3, "releas": 3, "tag": [3, 4], "prefer": 3, "python": 3, "3": 3, "12": 3, "pip": 3, "higher": 3, "addit": 3, "depend": 3, "apt": 3, "libomp5": 3, "pygam": [3, 4], "numpi": 3, "carlaue4": [3, 4], "sh": [3, 4], "eclips": 3, "dev": 3, "tool": 3, "check": 3, "wa": 3, "echo": 3, "sumo_hom": 3, "expect": 3, "usr": 3, "share": [3, 4], "r": 3, "verifi": 3, "stabl": 3, "offici": 3, "page": 3, "tar": 3, "xf": 3, "x86_64": 3, "tgz": 3, "cd": [3, 4], "sudo": 3, "updat": 3, "essenti": 3, "gcc": 3, "bison": 3, "flex": 3, "perl": 3, "python3": [3, 4], "qtbase5": 3, "libqt5opengl5": 3, "tcl": 3, "tk": 3, "libxml2": 3, "zlib1g": 3, "jre": 3, "doxygen": 3, "graphviz": 3, "setenv": 3, "j": 3, "nproc": 3, "layer": 3, "develop": 3, "libzmq3": 3, "zmq": [3, 4], "zmq_version": 3, "correctli": [3, 4], "foundat": 3, "part": 3, "manual": [3, 4], "understand": 3, "integr": [3, 4], "stage": 4, "load": 4, "appropri": 4, "sumo": 4, "below": 4, "separ": 4, "termin": 4, "present": 4, "pythonapi": 4, "config": 4, "run_framework": 4, "newli": 4, "execut": 4, "show": 4, "manual_control": 4, "small": 4, "appear": 4, "bottom": 4, "corner": 4, "drive": 4, "face": 4, "rai": 4, "right": 4, "powershel": 4, "parallel": 4, "browser": 4, "observ": 4, "three": 4, "travel": 4, "real": 4, "experi": 4, "differ": 4, "densiti": 4, "altern": 4, "cooper": 4, "have": 4, "pipelin": 4, "evalu": 4, "ITS": 4, "realist": 4}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"arteri": [0, 4], "setup": [0, 1], "zeromq": [0, 3], "integr": [0, 1], "servic": 0, "develop": 0, "messag": 0, "definit": 0, "ned": 0, "declar": 0, "json": 0, "support": 0, "includ": 0, "librari": 0, "zmq": [0, 1], "attribut": 0, "initi": 0, "yourservic": 0, "destructor": 0, "receiv": 0, "us": 0, "data": 0, "explan": [0, 4], "last": 0, "block": 0, "scenario": 0, "obtain": 0, "sumo": [0, 1, 2, 3], "file": 0, "configur": 0, "defin": 0, "vehicl": 0, "popul": 0, "summari": [0, 1, 3, 4], "continu": [0, 1, 3], "carla": [1, 2, 3, 4], "carla_simul": 1, "py": 1, "constructor": 1, "updat": 1, "server": 1, "router": 1, "thread": 1, "sensor": 1, "obstacl": 1, "attach": 1, "callback": 1, "actor": 1, "destruct": 1, "close": 1, "method": 1, "run_synchron": 1, "omnet": [2, 3], "framework": 2, "document": 2, "content": 2, "prerequisit": 3, "instal": 3, "step": 3, "run": 4, "simul": 4, "launch": 4, "switch": 4, "town05": 4, "video": 4, "demonstr": 4}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 58}, "alltitles": {"Artery Setup": [[0, "artery-setup"]], "ZeroMQ Integration": [[0, "zeromq-integration"]], "Service Development": [[0, "service-development"]], "Message Definition": [[0, "message-definition"]], "NED Service Declaration": [[0, "ned-service-declaration"]], "JSON Support": [[0, "json-support"]], "Include Libraries": [[0, "include-libraries"]], "ZMQ Attributes": [[0, "zmq-attributes"]], "ZMQ Initialization": [[0, "zmq-initialization"]], "YourService Destructor": [[0, "yourservice-destructor"]], "Receiving and Using ZMQ Data": [[0, "receiving-and-using-zmq-data"]], "Explanation of the Last Block": [[0, "explanation-of-the-last-block"]], "Scenario Development": [[0, "scenario-development"]], "Obtaining SUMO Files": [[0, "obtaining-sumo-files"]], "Scenario Configuration": [[0, "scenario-configuration"]], "Defining Services": [[0, "defining-services"]], "Vehicle Population": [[0, "vehicle-population"]], "Summary": [[0, "summary"], [1, "summary"], [3, "summary"], [4, "summary"]], "Continue": [[0, "continue"], [1, "continue"], [3, "continue"]], "CARLA and SUMO Setup": [[1, "carla-and-sumo-setup"]], "carla_simulation.py": [[1, "carla-simulation-py"]], "Constructor Updates": [[1, "constructor-updates"]], "ZMQ Server and Router Thread": [[1, "zmq-server-and-router-thread"]], "Sensor Integration": [[1, "sensor-integration"]], "Obstacle Sensor Attachment": [[1, "obstacle-sensor-attachment"]], "Sensor Callback": [[1, "sensor-callback"]], "Actor Destruction": [[1, "actor-destruction"]], "Close Method": [[1, "close-method"]], "run_synchronization.py": [[1, "run-synchronization-py"]], "CARLA + SUMO + OMNeT++ Framework Documentation": [[2, "carla-sumo-omnet-framework-documentation"]], "Contents:": [[2, null]], "Prerequisites": [[3, "prerequisites"]], "CARLA Installation": [[3, "carla-installation"]], "Installation Steps": [[3, "installation-steps"], [3, "id1"], [3, "id2"], [3, "id3"]], "SUMO Installation": [[3, "sumo-installation"]], "OMNeT++ Installation": [[3, "omnet-installation"]], "ZeroMQ Installation": [[3, "zeromq-installation"]], "Run Simulation": [[4, "run-simulation"]], "Launching CARLA": [[4, "launching-carla"]], "Switching CARLA to Town05": [[4, "switching-carla-to-town05"]], "Running Artery": [[4, "running-artery"]], "Explanation": [[4, "explanation"]], "Video Demonstration": [[4, "video-demonstration"]]}, "indexentries": {}})